import { useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';
import { Badge } from '@/components/ui/badge';
import { Input } from '@/components/ui/input';
import Icon from '@/components/ui/icon';

const Index = () => {
  const [searchQuery, setSearchQuery] = useState('');

  const rules = [
    {
      id: '1',
      title: '1. Общие правила',
      icon: 'BookOpen',
      sections: [
        {
          id: '1.1',
          title: '1.1 Правила нахождения на сервере',
          items: [
            '1.1.1 Запрещён флуд.',
            '1.1.2 Запрещено обходить мут. (Первый кик | При повторном нарушении бан на 10 мин)',
            '1.1.3 Запрещено оскорблять других игроков и администрацию. (Первый кик | При повторном нарушении бан на 30 мин)',
            '1.1.4 Запрещена реклама. (Бан навсегда)',
            '1.1.5 Запрещены спреи (лого) с "порнографией", оскорблением игроков в любом виде (Карается Киком).',
            '1.1.6 Запрещено обходить БАНЫ (наказание бан навсегда)',
            '1.1.7 Оскорбление Родных (Бан на 5 Часов. При повторном нарушении Бан на 30 дней)',
            '1.1.8 Передача аккаунта с донатом | Наказание Снятие.',
          ]
        },
        {
          id: '1.2',
          title: '1.2 Правила игры',
          items: [
            '1.2.1 Если новый приказ-игра !control\'a противоречит действующему приказу-игре или ведёт к их нарушению, то действующий приказ-игра отменяется-завершается.',
            '1.2.1.1 Любое дополнение/условие и т.п, относящееся к приказу, также отменяется если противоречит новому приказу/игре/условию и т.п.',
            '1.2.2 Запрещено использовать баги и залезать за текстуры. (Искл. Фридей/Мирный Фридей).',
            '1.2.3 Запрещено использовать читы.',
            '1.2.4 Запрещено использовать любые программы для смены голоса. (Бан на 30 мин)',
            '1.2.5 Вышки и оружейка считаются зоной CT.',
            '1.2.6 Джайлы, игровая, карцер и игровые поля считаются зоной T.',
            '1.2.7 Бан за фрикил, даётся только в том случае если СТ убил 3+ Т. (Бан 10-30 минут)',
            '1.2.8 Админ имеет право запретить Игроку переходить за СТ который не знает правил С ПОМОЩЬЮ АДМИНКИ до тех пор пока игрок не исправится.',
            '1.2.8.1 Перед этим админ обязан отправить ссылку на форум, в случае, если понимание не достигнуто - Перевод за террористов или в спектры.',
            '1.2.9 Запрещено использовать voteban, votekick, votemute без причины. (Карается Киком)',
            '1.2.10 Через чаты tsay, csay, msay можно делать только предупреждения (Бан 10 мин)',
            '1.2.10.1 Чаты tsay, csay, msay разрешены для личных целей, не более 1-2 сообщений на одну карту (Бан от 10-30)',
            '1.2.11 Запрещено убивать других игроков с помощью кнопок, убийством дверью и другим подобным способом, а так же запрещено блокировать других игроков дверью, нажатием кнопки и другими способами. (Карается Слеем)',
            '1.2.12 Админ имеет право запретить играть игроку за КТ за многочисленное нарушение правил, от трёх и более нарушений.',
            '1.2.13 Администратор имеет право спрашивать у КТ, требования и запреты, в случае если КТ не рассказал правила, или не знает их, наступает п 1.2.8',
          ]
        }
      ]
    },
    {
      id: '2',
      title: '2. Игра за T',
      icon: 'Users',
      sections: [
        {
          id: '2.1',
          title: '2.1 Бунт',
          items: [
            '2.1.1 T могут бунтовать в любой момент. (искл. lr, мирный fd, оборона и прятки)',
            '2.1.2 T могут резать CT левой, а также правой кнопкой мышки, если они находятся на территории Т, это не считается бунтом. (Искл. !control)',
            '2.1.3 T могут резать CT кнопкой «Огонь» (ЛКМ по умолчанию), выполняя приказ !control\'a «замереть» или «следовать кратчайшим маршрутом», это не считается бунтом. (Искл. !control)',
            '2.1.4 T имеют право ломать нычку на своей территории, если не нарушают этим приказ !control\'a, это не считается бунтом.',
            '2.1.5 Игнорирование приказов CT, не являющегося !control\'ом, не считается бунтом.',
            '2.1.6 Если КТ входит в Т, то Т имеет право его резать (искл. !control).',
          ]
        },
        {
          id: '2.2',
          title: '2.2 Отказ',
          items: [
            '2.2.1 T имеют право отказаться выполнять приказы !control\'a.',
            '2.2.2 Форма отказа: «Отказ. Причина.»',
            '2.2.3 T имеют право отказаться от игры, ссылаясь на неполный состав участников либо нестандартную игру, до её начала или требуя повтора правил игры.',
            '2.2.3.1 Написать Отказ. Нестандарт.',
            '2.2.3.2 Написать Отказ. Не все Т на месте.',
            '2.2.3.3 Написать Отказ. Повтор. (Стоите в режиме «замирание» (п.4.1.3) до окончания повтора.)',
            '2.2.3.3.1 Если !control объявил игру до открытия джайлов, то Т имеет право написать Отказ. Повтор. даже после того, как игра началась.',
            '2.2.3.4 Написать Отказ. АФК 2 день.',
            '2.2.3.5 Написать Отказ. ФД всем.',
            '2.2.4 Причины для отказа:',
            '2.2.4.1 Несоблюдение CT п. 3.1.',
            '2.2.4.2 Фрикилл в предыдущем раунде.',
            '2.2.4.3 Выполнение приказа влечёт гарантированную смерть Т. (Если влечёт к смерти, то стоите в режиме «замирание» п.4.1.3).',
            '2.2.4.4 Фридамаг. (Скопировать с консоли от кого фридамаг.)',
            '2.2.4.5 Отсутствие смысловой нагрузки. (!control не играет с T в игры, не даёт и не объясняет приказы больше 1 мин.)',
            '2.2.4.6 Повтор. (Стоите в режиме «замирание» (п.4.1.3) до окончания повтора.)',
          ]
        },
        {
          id: '2.3',
          title: '2.3 Фридамаг',
          items: [
            '2.3.1 Если вам нанесли фридамаг, CT обязаны отвести вас в лечебку.',
            '2.3.2 Вы имеете право убить CT, нанёсшего вам фридамаг, если фридамаг не был устранён, это не считается бунтом. (искл. линия огня)',
            '2.3.3 !control обязан дать возможность Т, убить КТ, нанёсшего ему фридамаг, если фридамаг не был устранён. (искл. линия огня)',
          ]
        }
      ]
    },
    {
      id: '3',
      title: '3. Игра за CT',
      icon: 'Shield',
      sections: [
        {
          id: '3.1',
          title: '3.1 Требования к CT',
          items: [
            '3.1.1 Наличие хорошо настроенного микрофона. Если нет микрофона можно по чату но нужно иметь заместителя КТ',
            '3.1.2 Знание правил.',
            '3.1.3 Возраст – не менее 13 лет.',
            '3.1.4 Если вы зашли за КТ, вы обязаны контролить.',
            '3.1.5 Нельзя брать !control каждый раунд, одному и тому же КТ. (искл. один за КТ, прятки, оборона, заместитель).',
            '3.1.5.1 КТ имеет право контролить второй раз по многочисленным желаниям игроков.',
            '3.1.6 !control обязан внятно и чётко отдавать приказы.',
            '3.1.7 КТ обязан следить за Т, либо искать бунтующих Т.',
          ]
        },
        {
          id: '3.2',
          title: '3.2 Убийство T',
          items: [
            '3.2.1 Вы имеете право убить T, не выполняющего приказы !control\'a, это считается бунтом.',
            '3.2.2 Если вы видите, что T пытается убить CT. (искл. lr, охота, zfd, п. 2.1.2-2.1.3, 2.3.2)',
            '3.2.3 Если у T оружие в руках. (искл. lr, оборона, афк)',
            '3.2.4 Если T имеет оружие за спиной/в кобуре, вы обязаны дать возможность выкинуть его, досчитав до 3. (если T не выкинул его, можете убить, искл. lr, оборона, афк, замирание)',
            '3.2.4.1 Если Т повторно подбирает оружие, вы можете убить его.',
            '3.2.5 Если видите T в нычке или зоне CT, можете его убить. (искл. lr и оборона)',
            '3.2.5.1 При этом вы можете проникнуть в нычку/оружейку, уведомив всех, что ведёте преследование.',
            '3.2.5.2 После завершения преследования, у вас есть 15 с, чтобы покинуть нычку/оружейку.',
            '3.2.5.3 Вы можете вести преследование только, если видели Т в этой нычке, либо знаете о том, что Т находится в данной нычке',
            '3.2.6 Если вы последний (но не единственный) CT и не являетесь !control\'ом, можете убивать T до начала lr. (искл. zfd)',
            '3.2.7 Если T стоит в афк, досчитав до 5. (искл. режим афк и замирание)',
            '3.2.8 Если Т покинул джайл до его открытия.',
          ]
        },
        {
          id: '3.3',
          title: '3.3 КТ Запрещается',
          items: [
            '3.3.1 Ломать или залезать в нычки. (искл. п. 3.2.5, lr, прятки, оборона)',
            '3.3.2 Находиться в оружейке после 3:00 (8:00) (искл. п. 3.2.5, lr и прятки)',
            '3.3.3 Держать джайлы закрытыми ПОСЛЕ 3:00 (8:00) (за нарушение слей всем КТ)',
            '3.3.4 Закрывать джайлы.',
            '3.3.5 Подкидывать оружие T.',
            '3.3.6 Залезать на вышки, уже занятые двумя CT.',
            '3.3.7 Запрещено убивать в закрытых джайлах (искл. Пункт 3.2.2 и 3.2.3)',
            '3.3.8 Взятие !control после 3:30 (8:30) запрещено. Даётся slay (Искл. Заместитель)',
            '3.3.9 Относится лояльно к бунтующим Т.',
            '3.3.10 Убивать Т без причины.',
            '3.3.11 Открывать джайлы без разрешения !control\'a. (искл. !control не успел открыть джайлы вовремя)',
          ]
        }
      ]
    },
    {
      id: '4',
      title: '4. Игра за !control',
      icon: 'Crown',
      sections: [
        {
          id: '4.1',
          title: '4.1 Приказы',
          items: [
            '4.1.1 !control может давать приказы T. (искл. lr, fd, мирный fd)',
            '4.1.2 Любой приказ/игру можно отменить или завершить. (искл. п. 4.1.6.1)',
            '4.1.3 Приказ «замереть» означает запрет на шаги, прыжки, приседания и подъёмы.',
            '4.1.4 Приказ «афк» означает запрет на любые действия. (искл. чат)',
            '4.1.5 Приказ «играть в нервы или обратные нервы» означает, что T обязаны смотреть вверх, в обратных вниз, сидя с включённым фонариком, и не сходить с места.',
            '4.1.5.1 Игру Нервы или обратные нервы можно только завершить/закончить.',
            '4.1.5.2 Данный приказ можно давать только один раз за раунд.',
            '4.1.5.3 По прошествии 1 мин. Нервы завершаются.',
            '4.1.6 !control может разрешить реснуться админу, если он запретит, то нельзя.',
            '4.1.6.1 У возрождённого CT, есть 15 секунд чтобы покинуть оружейку.',
            '4.1.6.2 Запрещено Ресаться если вы были убиты Террористом, или же были убиты за неисполнение приказа, или бунт. (Бан 10 минут)',
            '4.1.7 !control обязан объяснять стандартные игры и Приказы.',
            '4.1.8 Первый Приказ !control должен отдать до момента открытия камер.',
            '4.1.9 !control может запретить параллельную активацию микрофона с ним сказав: Активация микрофона параллельно с контролом будет караться slay или килом.',
            '4.1.10 Если вы даёте дополнительный приказ, то вы должны сказать, что он отменяется отдельно от остальных приказов словами: я отменяю доп. приказ.',
            '4.1.11 !control обязан реснуть игрока, которого случайно убил или попросить об этом админа.',
            '4.1.12 !control не имеет право запретить Т чиркать ножом.',
            '4.1.13 Давать АФК, можно только через раунд. (Если Контрол, 2 день даёт АФК, то Террористы могут написать Отказ. АФК 2 день. И Контрол даёт другой приказ)',
          ]
        },
        {
          id: '4.2',
          title: '4.2 Отказы',
          items: [
            '4.2.1 !control обязан устранять причины отказов.',
            '4.2.2 !control может убить T за причину которой нет в пункте 2.2',
            '4.2.3 !control не обязан рассматривать отказы в закрытых джайлах.',
            '4.2.4 !control имеет право игнорировать отказы не по форме (Пункт 2.2.2)',
          ]
        },
        {
          id: '4.3',
          title: '4.3 Заместитель',
          items: [
            '4.3.1 !control может назначить заместителя.',
            '4.3.2 Приказы !control\'a действуют 15 с после его смерти.',
            '4.3.3 У заместителя есть 15 с, чтобы взять !control\'a.',
          ]
        }
      ]
    },
    {
      id: '5',
      title: '5. LR (Last Request)',
      icon: 'Target',
      sections: [
        {
          id: '5.1',
          title: '5.1 Основные правила lr',
          items: [
            '5.1.1 Когда остаются 2 T, начинается lr. (искл. оборона, прятки и zfd)',
            '5.1.2 Во время lr T имеют право написать «!lr».',
            '5.1.3 Во время lr отменяются все приказы и заканчиваются все игры.',
            '5.1.4 Если T не пишет «!lr» в общий чат, CT имеют право убить его, досчитав до 10.',
            '5.1.5 Если T не выбирает игру, CT имеют право убить его, досчитав до 10.',
            '5.1.6 Если CT дважды отказался от lr, на него объявляется охота.',
            '5.1.7 Бунт во время lr осуществляется только через соответствующий пункт.',
            '5.1.8 Админ имеет право отменить все предыдущие !lr только 3 раза за раунд. (При этом не мешать другим игрокам которые играют в !lr)',
          ]
        },
        {
          id: '5.2',
          title: '5.2 Игры lr',
          items: [
            '5.2.1 T и CT должны оказаться в равных условиях.',
            '5.2.2 Правила игр «рулетка» и «обойма на обойму» выбирает первый стреляющий, также он выбирает место, правила остальных игр выбирает T.',
            '5.2.3 Проиграв, нельзя делать самоубийство.',
            '5.2.4 Запрещено мешать проведению !lr. (даётся slay)',
            '5.2.5 Запрещено заходить в лечебку. (искл. игры, для которых не требуется HP.)',
            '5.2.6 !control обязан снять контролку, чтобы быть в равных условиях с Т.',
          ]
        }
      ]
    },
    {
      id: '6',
      title: '6. FreeDay (FD)',
      icon: 'Sunrise',
      sections: [
        {
          id: '6.1',
          title: '6.1 Причины наступления fd',
          items: [
            '6.1.1 !control не был взят до 3:30.',
            '6.1.2 Первый раунд на карте.',
            '6.1.3 Заместитель не взял !control\'a в течение 15 с.',
            '6.1.4 Соотношение T к живым CT в 3:00 меньше 2. (дисбаланс)',
            '6.1.5 Джайлы были открыты до взятия !control\'a.',
            '6.1.6 CT закрыли джайлы.',
            '6.1.7 Причина вашего отказа не была устранена в течение 15 с.',
            '6.1.7.1 Фридей выдаёт только !control. Он может выбрать какой фридей выдать: Обычный или Мирный.',
            '6.1.8 T выиграли lr в предыдущем раунде.',
            '6.1.9 СТ убили Т во время !lr без причины.',
            '6.1.10 !control лично дал вам fd.',
            '6.1.11 Вы выиграли оборону.',
            '6.1.12 Массовый фрикилл 3+.',
            '6.1.13 Вы выиграли прятки.',
          ]
        },
        {
          id: '6.2',
          title: '6.2 Виды fd',
          items: [
            '6.2.1 FD - все приказы и игры отменяются/завершаются, новые не поступают.',
            '6.2.2 Мирный FD – fd с перемирием до времени, названного !control\'ом. (Разница между началом и концом не может быть меньше 1-ой минуты)(Запрещено давать подход КТ)',
            '6.2.3 Жёсткий FD – fd, во время которого бунт одного T считается бунтом всех T. (Во время жёсткого фридея запрещено давать приказы)',
            '6.2.3.1 Жёсткий fd можно давать только за нарушения правил обороны, пряток. (Так же в zfd)',
            '6.2.3.2 Во время ЖФД, если бунтует Т, то КТ убивают всех кроме двух на !lr.',
            '6.2.3.3 Во время жёсткого FD можно писать !lr.',
            '6.2.4 ZFD - FD, во время которого Т ходят на шифтах и режут КТ ЛКМ.',
            '6.2.4.1 Т запрещено брать оружие в руки, залазить на вертикальные лестницы, прыгать, приседать, использовать парашют и взаимодействовать с кнопками.',
            '6.2.4.2 КТ запрещено находиться в местах, куда Т могут попасть лишь нарушив правила ZFD.',
            '6.2.4.3 Время между началом и окончанием ZFD должно быть не более 2-ух минут.',
            '6.2.4.4 После завершения ZFD наступает жёсткий FD.',
            '6.2.5 Нельзя давать ФД больше 1 Т.',
          ]
        }
      ]
    },
    {
      id: '7',
      title: '7. Правила для Администрации',
      icon: 'ShieldCheck',
      sections: [
        {
          id: '7.1',
          title: 'Общие правила администрации',
          items: [
            '1. Запрещено кикать/банить игроков без причины. [Наказание: 1/3 по донату. повторное нарушение Снятие доната!]',
            '2. Младшие админы не имеют право снимать КТбан с игроков. [Наказание: 1. устное! 2. 1/3 по донату]',
            '3. Администраторы должны вести себя адекватно (Не материться, Не оскорблять игроков и др.) [Наказание: 1 - устное! 2. 1/3 По донату]',
            '4. Администрация должна каждый день Играть на сервере 1 час. Если админ не будет заходить 1 Неделю [Наказание: 1. устное! 2. 1/3 по донату, 3. Снятие доната]',
            '5. Администрация не имеет право Менять карту без голосования. (ИСКЛЮЧЕНИЕ: если все игроки просят) [Наказание: 1. устное! 2. 1/3 по донату]',
            '6. Младшие и Средние и Старшие Админы не имеют право давать 1/3 по донату!',
            '7. Администратор не должен объяснять причину бана, кика, мута.',
            '8. У администрации всегда должны быть доказательства На бан, кик, мут.',
            '9. Админы должны соблюдать правила сервера! А иначе снятие!',
          ]
        },
        {
          id: '7.2',
          title: 'FSA АДМИНКА',
          items: [
            '1. Превращать себя в какой либо предмет запрещено во время lr, мирный fd, обороны. (Карается баном От 10 - 30 мин)',
            '2. Запрещено различными предметами блокировать игроков. (Карается баном От 10 - 30 мин)',
            '3. Запрещено превращать себя и другого игрока в любой предмет, когда началась игра из списка lr. (Карается баном От 10 - 30 мин)',
            '4. Запрещено частое создание предметов, предметы можно создавать, если они не мешают игре. (Карается баном От 10 - 30 мин)',
            '5. Запрещено делать себя и других игроков невидимыми. (Карается баном От 60 - 120 мин)',
            '6. Запрещено убивать игроков взрывными бочками и наносить фридамаг. (Карается баном От 60 - 120 мин)',
            '7. Категорически Запрещено крутить музыку. (Карается баном От 10 - 30 мин)',
            '8. !control Имеет право запретить пользоваться FSA Админкой-Маскировкой. (Искл. мирный FD, прятки) (Карается баном От 10 - 30 мин)',
            '9. КТ категорически запрещено маскироваться под какой либо предмет через [FSA]Админку. (Карается баном От 30 мин - 60 мин)',
            '10. КТ не имеет право запрещать маскироваться во время игры в прятки. (Карается баном От 10 мин - 20 мин)',
            '11. Через [FSA] Админку ЗАПРЕЩЕНО маскировать других игроков. (Карается баном От 60 мин - 120 мин)',
            '12. Запрещено Строить предметы через FSA В Клетках если есть !control Нарушение (Карается баном 1 День)',
          ]
        }
      ]
    },
    {
      id: '8',
      title: '8. Паутинка (донат)',
      icon: 'Sparkles',
      sections: [
        {
          id: '8.1',
          title: 'Правила использования паутинки',
          items: [
            '1. Запрещено перетаскивать игроков грабом без их согласия. (1 - Устное предупреждение. 2 - 1/3)',
            '2. Категорически запрещено багать игрокам донат! (1/3)',
            '3. Запрещено использовать паутинку в избежание от приказов контрола. (1 - Устное предупреждение. 2 - 1/3)',
            '4. Запрещено багать карту с помощью граба (лестницы, двери, лифты и др.) (1 - Устное предупреждение. 2 - 1/3)',
            '5. Контрол может запрещать использовать паутинку и граб. (На весь раунд до lr, либо до определённого времени контрола) (1 - Устное предупреждение. 2 - 1/3)',
            '6. Запрещено улетать на паутинке за пределы карты. (Пределы карты это та зона, которая доступна без помощи доната.) (1 - Устное предупреждение. 2 - 1/3)',
            '7. Запрещено начинать бунт с помощью паутинки! И пользоваться паутинкой во время бунта! (1 - пред. 2 - 1/3)',
            '8. Запрещено пользоваться паутинкой во время !lr, обороны, пряток. (1 - пред. 2 - 1/3)',
          ]
        }
      ]
    },
    {
      id: '9',
      title: '9. Правила обороны',
      icon: 'Castle',
      sections: [
        {
          id: '9.1',
          title: 'Проведение обороны',
          items: [
            '!control говорит, что будет оборона, называет место обороны, говорит кто будет обороняться, во время обороны обороняющимся можно залезать в нычки, на территории обороны.',
            '1) Можно запретить оружие для T (Нельзя запрещать все виды автоматов, пистолетов, пистолет-пулемётов)',
            '2) Указать время начала обороны и завершения. (Разница между началом и концом не может быть меньше 2-ух минут)',
            '3) Во время раунда, когда проводится оборона запрещено писать !lr. (Искл. бунт)',
            '4) Можно указать перемирие и установить наказание (слей) за нарушения перемирия. (Искл: слей всей команде)',
            '5) Оборону можно объявить только после 1 раунда.',
            '6) Оборону можно проводить 3 раунда за карту.',
            '7) Если по истечению времени обороны Т не убили всех КТ, то КТ имеют право убить оставшихся Т.',
            '8) Оборону нельзя проводить в оружейке и в лечебке.',
          ]
        }
      ]
    },
    {
      id: '10',
      title: '10. Правила пряток',
      icon: 'Eye',
      sections: [
        {
          id: '10.1',
          title: 'Проведение пряток',
          items: [
            '!control говорит, что будут прятки, все КТ сидят в оружейке и контрол говорит время во сколько КТ идут искать Т.',
            '1) Во время пряток запрещён бунт для Т.',
            '2) Указать время начала пряток и завершения. (Разница между началом и концом не может быть меньше 2-ух минут)',
            '3) Во время пряток запрещено писать !lr.(Можно выбрать бунт, не более)',
            '4) Можно назначить наказание (слей) за нарушения правил (Искл: слей всей команде)',
            '5) Прятки можно объявить только после 1 раунда.',
            '6) Прятки можно проводить 3 раунда за карту.',
            '7) FSA администраторам категорически запрещено бунтовать в замаскированном виде. За нарушение (Первый - slay, второй - kick) (искл. прятки были окончены, Т выиграли)',
            '8) Если по истечению времени пряток КТ не нашли всех Т, то победившие Т могут убить КТ.',
            '9) Во время пряток, если вы замаскировались под камень, краба и т.д. Нельзя садиться на корточки! (1 - пред. 2 - 1/3)',
            '10) Во время пряток, запрещено прятаться в баг зонах.',
          ]
        }
      ]
    },
    {
      id: '11',
      title: '11. Игры',
      icon: 'Gamepad2',
      sections: [
        {
          id: '11.1',
          title: 'Музыкальные стулья',
          items: [
            'Четверо Т ходят вокруг трёх стульев, когда КТ скажет стоп они должны сесть на стулья, последнего Т кто не успел убивают. Минимум игроков на игре 4.',
          ]
        },
        {
          id: '11.2',
          title: 'Вирус',
          items: [
            'Одному из Т даётся 350 HP, а другим 4 Т 150 HP и они должны убить заражённого Т. Минимум игроков 5.',
          ]
        },
        {
          id: '11.3',
          title: 'Король',
          items: [
            '!control начинает игру. Затем !control говорит в голосовой чат слово или несколько слов, и знаки препинания в конце этих слов. Побеждает тот Т, который первым правильно напишет то, что сказал !control. Он имеет право выбрать такие режимы как: 1) Злой 2) Добрый 3) Пьяный 4) Прокурор 5) Импровизатор 6) Авторитет',
            'Игру можно проводить если Террористов не больше 8.',
            'Злой – СТ, говорит победившему Т количество Т, которых нужно убить. Победивший Т выбирает, тех Т, которых хочет убить. (Максимальное количество - 2)',
            'Добрый – Победивший Т выбирает тему (пример: подарки, фильмы), проигравшие Т по очереди пишут Победившему Т ответ на тему которую он выбрал. Если Победившему Т нравится его ответ он ставит +, если нет, то -. Соответственно если Победивший Т поставил +, проигравший Т остаётся в живых, если же минус, то он погибает.',
            'Пьяный – Победивший Т имеет право на свой выбор сразиться с любым КТ на равных условиях. (кроме W) (Вы должны отключить VIP, если у КТ её нет).',
            'Прокурор - Победивший Т выходит замирает, задача других Т подойти к победителю и написать за что его посадили. Если Победившему Т нравится его ответ он ставит +, если нет, то -. Соответственно если Победивший Т поставил +, проигравший Т остаётся в живых, если же минус, то он погибает.',
            'Импровизатор - Победивший Т рассказывает краткую историю, начало шутки и т.д, задача других Т подойти к победителю и написать или сказать краткое продолжение его истории. Если Т нравится его ответ он ставит +, если нет, то -. Соответственно если Победивший Т поставил +, проигравший Т остаётся в живых, если же минус, то он погибает.',
            'Авторитет – Победивший Т имеет право выбрать другую игру из стандартного списка, которую !control обязан провести сразу после «Короля» (Нельзя выбирать игру «Король»). Победивший Т имеет право потребовать не участвовать в данной игре, в таком случае !control обязан отдать отдельный приказ победившему Т до конца указанной им игры. (Нельзя выбирать игру, которую !control не сможет провести.)',
          ]
        },
        {
          id: '11.4',
          title: 'Наоборот',
          items: [
            'Контрол пишет в чат слово с ошибками и наоборот, Т должны написать слово категорически правильно с точкой на конце, кто первый напишет тот выбирает двух или одного Т на килл.',
          ]
        },
        {
          id: '11.5',
          title: 'Дипломатия',
          items: [
            'Т по приказу КТ встают в треугольник и отворачиваются от союзников назад и также садятся на CTRL, потом как КТ скажет "дипломатия" они должны повернуться на Т которого хотят убить, если два Т повернулись на одного Он умирает. КТ может обманывать Т например сказать "Диплом" и если кто-то из них повернулся — убить.',
          ]
        },
        {
          id: '11.6',
          title: 'Города',
          items: [
            '!control пишет в чат название города, Т должны написать город, название которого начинается на последнюю букву. Побеждает тот кто напишет правильно первым. Выигравший Т выбирает от 1 до 3-х Т на килл.',
          ]
        },
        {
          id: '11.7',
          title: 'Светофор',
          items: [
            'W начинает игру. Когда W произносит "зелёный цвет", то Т бегают в заданном направлении или беспорядочно. "Красный цвет" - у Т режим замирание. "Жёлтый цвет" - Т движутся медленным шагом (с зажатым шифтом стоя) в заданном направлении или беспорядочно. Игру можно только начать и либо завершить, либо отменить.',
            'Если W произносит: "Зелёный" T должны проигнорировать этот приказ.',
          ]
        },
        {
          id: '11.8',
          title: 'Печеньки',
          items: [
            'По 2 Т встают в джайлы, потом КТ задаёт любые вопросы (Т могут использовать интернет), если одна команда Т ответила например 3 вопроса правильно, а другая 2 правильно, то вторая команда умирает.',
          ]
        },
        {
          id: '11.9',
          title: 'Интуиция',
          items: [
            '!control начинает игру. !control выстреливает из скорострельного оружия патроны, предварительно перезарядившись, а Т должны угадать, сколько патронов осталось в магазине, написав в общий чат. Играют на убийства, нельзя предоставлять более 2/3 от живых Т на килл.',
          ]
        }
      ]
    }
  ];

  const filteredRules = rules.map((rule) => ({
    ...rule,
    sections: rule.sections
      .map((section) => ({
        ...section,
        items: section.items.filter((item) => item.toLowerCase().includes(searchQuery.toLowerCase()))
      }))
      .filter((section) => section.items.length > 0)
  })).filter((rule) => rule.sections.length > 0);

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950">
      <header className="border-b border-orange-500/20 bg-gradient-to-r from-slate-900/90 via-orange-950/30 to-slate-900/90 backdrop-blur-xl sticky top-0 z-50 shadow-lg shadow-orange-500/5">
        <div className="container mx-auto px-4 py-6">
          <div className="flex flex-col items-center gap-4">
            <div className="flex items-center gap-4">
              <div className="w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg shadow-orange-500/30">
                <Icon name="Lock" size={36} className="text-white" />
              </div>
              <div className="text-center md:text-left">
                <h1 className="text-3xl md:text-4xl font-bold tracking-tight text-white drop-shadow-lg">
                  Добро пожаловать
                </h1>
                <p className="text-lg md:text-xl text-orange-400 font-semibold mt-1">
                  [JAIL] Тюрьма Заточение [V34]
                </p>
              </div>
            </div>
            <div className="flex flex-wrap items-center justify-center gap-3">
              <Badge variant="outline" className="gap-1 border-orange-500/50 text-orange-400">
                <Icon name="Users" size={14} />
                Возраст 13+
              </Badge>
              <Badge variant="outline" className="gap-1 border-green-500/50 text-green-400">
                <Icon name="Mic" size={14} />
                Микрофон обязателен
              </Badge>
              <Badge variant="outline" className="gap-1 border-blue-500/50 text-blue-400">
                <Icon name="BookOpen" size={14} />
                Версия 34
              </Badge>
            </div>
          </div>
        </div>
      </header>

      <main className="container mx-auto px-4 py-8">
        <Card className="border-orange-500/20 bg-gradient-to-br from-slate-900/80 to-slate-800/80 backdrop-blur-sm shadow-2xl">
          <CardHeader>
            <CardTitle className="flex items-center gap-3 text-3xl text-white">
              <Icon name="ScrollText" size={36} className="text-orange-500" />
              Правила сервера
            </CardTitle>
            <CardDescription className="text-slate-400 text-base">
              Полный свод правил для игроков и администрации. Изучите перед игрой!
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-6">
            <div className="relative">
              <Icon name="Search" size={20} className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500" />
              <Input
                placeholder="Поиск по правилам..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="pl-10 bg-slate-900/50 border-slate-700 text-white placeholder:text-slate-500"
              />
            </div>

            <Tabs defaultValue="1" className="w-full">
              <TabsList className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2 bg-slate-900/50 p-2 h-auto">
                {rules.slice(0, 11).map((rule) => (
                  <TabsTrigger
                    key={rule.id}
                    value={rule.id}
                    className="flex items-center gap-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white whitespace-normal h-auto py-2"
                  >
                    <Icon name={rule.icon || 'Circle'} size={16} />
                    <span className="text-xs">{rule.title.split('.')[0]}.</span>
                  </TabsTrigger>
                ))}
              </TabsList>

              {(searchQuery ? filteredRules : rules).map((rule) => (
                <TabsContent key={rule.id} value={rule.id} className="space-y-4 mt-6">
                  <div className="flex items-center gap-3 mb-4">
                    <div className="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center">
                      <Icon name={rule.icon || 'Circle'} size={24} className="text-white" />
                    </div>
                    <h2 className="text-2xl font-bold text-white">{rule.title}</h2>
                  </div>

                  <Accordion type="single" collapsible className="space-y-3">
                    {rule.sections.map((section) => (
                      <AccordionItem
                        key={section.id}
                        value={section.id}
                        className="border border-slate-700/50 rounded-lg bg-slate-900/30 px-4"
                      >
                        <AccordionTrigger className="hover:no-underline text-white">
                          <span className="text-base font-semibold text-left">{section.title}</span>
                        </AccordionTrigger>
                        <AccordionContent className="space-y-2 pt-2">
                          <ul className="space-y-2">
                            {section.items.map((item, idx) => (
                              <li key={idx} className="text-sm text-slate-300 flex gap-2 leading-relaxed">
                                <Icon name="ChevronRight" size={16} className="text-orange-500 mt-0.5 flex-shrink-0" />
                                <span>{item}</span>
                              </li>
                            ))}
                          </ul>
                        </AccordionContent>
                      </AccordionItem>
                    ))}
                  </Accordion>
                </TabsContent>
              ))}
            </Tabs>
          </CardContent>
        </Card>
      </main>

      <footer className="border-t border-orange-500/20 bg-slate-900/50 backdrop-blur-sm mt-12">
        <div className="container mx-auto px-4 py-6">
          <div className="flex flex-col md:flex-row items-center justify-between gap-4">
            <p className="text-sm text-slate-400">
              © 2024 [JAIL] Тюрьма Заточение [V34]. Все правила обязательны к соблюдению.
            </p>
            <div className="flex items-center gap-4">
              <Badge variant="outline" className="gap-1 border-green-500/50 text-green-400">
                <Icon name="Activity" size={14} />
                Сервер активен
              </Badge>
            </div>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default Index;
